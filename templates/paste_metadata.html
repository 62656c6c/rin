{% extends "./base.html" %} {% block title %}Editing "{{ paste.url }}" â€“ {{
base.site_name }}{% endblock %} {% block mainstuff %}style="height: 100%;
display: flex; flex-direction: column;"{% endblock %} {% block content %}
<div class="flex flex-col w-full h-full">
    <!-- toolbar -->
    <div class="flex">
        <a class="button tab secondary" href="/{{ paste.url }}/edit">Text</a>
        <button class="button tab secondary" disabled>Preview</button>
        <button class="button tab">Config</button>
    </div>

    <!-- editor -->
    <form class="flex flex-col w-full" id="submit_form" style="flex: 1 0">
        <div
            class="card flex flex-col gap-2"
            style="flex: 1 0"
            id="metadata_editor"
        ></div>

        <!-- actions -->
        <fieldset class="w-full my-2">
            <!-- inputs -->
            <div class="gap-2 flex items-center float-right mb-2">
                <input
                    name="password"
                    id="password"
                    placeholder="Password"
                    class="small"
                />
            </div>

            <!-- submit -->
            <button class="round mb-2 !text-emerald-800 dark:!text-emerald-300">
                Save
            </button>
        </fieldset>
    </form>
</div>

<!-- init editor -->
<!-- prettier-ignore -->
<script type="application/json" id="metadata">{{ paste_metadata|safe }}</script>

<script type="module">
    import metadata_editor from "/static/js/metadata.js";
    metadata_editor(
        document.getElementById("metadata_editor"),
        "{{ paste.url }}",
        JSON.parse(document.getElementById("metadata").innerHTML),
    );
</script>
{% call super() %} {% endblock %}
